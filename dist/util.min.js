define(["require","exports"],function(t,e){"use amd";function n(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)});return"{"+e+"}"}function r(){var t=(new Date).getTime(),e="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),n.toString(16)});return e}function i(t){var n=t.split(".").pop().toLowerCase();return e.ext2mime[n]?e.ext2mime[n]:"octet/stream"}function o(t,e){try{return t.getDocumentByUNID(e)}catch(t){return null}}function a(t){try{return!t||""===t.toString()||(t instanceof NotesDatabase?t.getReplicaID().length()>0:""===t.toString())}catch(t){return!0}}function u(t,e,n){void 0===n&&(n=null);for(var r=n,i=0;i<t;i++)r=e(r);return r}function c(t,e){for(var n=[],r=0;r<e;r++)n.push(t);return n.join("")}function x(t,e,n,r){return void 0===r&&(r=!1),t+="",r&&t.length>=e?t:(u(4,function(t){return t+""+n},"")+t).substr(e*-1)}function f(t,e,n){if(t instanceof Array)for(var r=0;r<t.length;r++)t[r]=e.call(n,t[r]);else for(var i in t)t[i]=e.call(n,t[i]);return t}function s(t,e,n){if("string"==typeof t)e.call(n,t);else if(t instanceof Array)for(var r=0;r<t.length;r++)e.call(n,t[r]);else if(t instanceof java.util.Vector)for(var r=0;r<t.size();r++)e.call(n,t.get(r));else for(var i in t)e.call(n,t[i])}function l(t){for(var e=[],n=0;n<t.size();n++)e.push(t.get(n));return e}function g(t){var e=[];for(var n in t)isNaN(parseInt(n))||e.push(t[n]);return e}function v(t){return"string"==typeof t||t instanceof String}function p(t){return t&&(t instanceof Array||"array"==typeof t)}function m(t){return"[object Function]"===t.toString()||t instanceof Function}function y(t){return void 0!==t&&(null===t||"object"==typeof t||p(t)||m(t))}function h(t){return t&&!m(t)&&/\{\s*\[native code\]\s*\}/.test(String(t))}function d(t){try{switch(typeof t){case"NotesXspViewEntry":return t.getUniversalID();case"NotesDocument":return t.getUniversalID();default:return t.getUniversalID()}}catch(t){return null}}function D(t){if(!t.isValid())throw"Cannot convert doc to object: invalid document";for(var e={},n=t.getItems().toArray(),r=0;r<n.length;r++){var i=n[r],o=i.getType();if(1280==o||768==o||1024==o){var a=i.getValues();if(a=a?l(a):"",1024==o){for(var u=[],c=0;c<a.length;c++)a[r]&&u.push(a[r].toJavaDate());e[i.getName().toLowerCase()]=u}else e[i.getName().toLowerCase()]=a}}return e}e.ext2mime={gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},e.uuid=n,e.unid=r,e.getMimeType=i,e.tryGetDoc=o,e.isRecycled=a,e.repeat=u,e.mkstring=c,e.padleft=x,e.map=f,e.forEach=s,e.vector2array=l,e.arguments2array=g,e.isString=v,e.isArray=p,e.isFunction=m,e.isObject=y,e.isAlien=h,e.getUniversalID=d,e.docToObject=D});