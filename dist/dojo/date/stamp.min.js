define(["require","exports","dojo/_base/array"],function(e,t,n){"use amd";function r(e,t){o||(o=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var r=o.exec(e),i=null;if(r){r.shift(),r[1]&&r[1]--,r[6]&&(r[6]*=1e3),t&&(t=new Date(t),n.forEach(n.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(e){return t["get"+e]()}),function(e,t){r[t]=r[t]||e})),i=new Date(r[0]||1970,r[1]||0,r[2]||1,r[3]||0,r[4]||0,r[5]||0,r[6]||0),r[0]<100&&i.setFullYear(r[0]||1970);var s=0,u=r[7]&&r[7].charAt(0);"Z"!=u&&(s=60*(r[8]||0)+(Number(r[9])||0),"-"!=u&&(s*=-1)),u&&(s-=i.getTimezoneOffset()),s&&i.setTime(i.getTime()+6e4*s)}return i}function i(e,t){var n=function(e){return e<10?"0"+e:e};t=t||{};var r=[],i=t.zulu?"getUTC":"get",o="";if("time"!=t.selector){var s=e[i+"FullYear"]();o=["0000".substr((s+"").length)+s,n(e[i+"Month"]()+1),n(e[i+"Date"]())].join("-")}if(r.push(o),"date"!=t.selector){var u=[n(e[i+"Hours"]()),n(e[i+"Minutes"]()),n(e[i+"Seconds"]())].join(":"),a=e[i+"Milliseconds"]();if(t.milliseconds&&(u+="."+(a<100?"0":"")+n(a)),t.zulu)u+="Z";else if("time"!=t.selector){var l=e.getTimezoneOffset(),f=Math.abs(l);u+=(l>0?"-":"+")+n(Math.floor(f/60))+":"+n(f%60)}r.push(u)}return r.join("T")}var o;t.fromISOString=r,t.toISOString=i});