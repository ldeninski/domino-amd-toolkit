define(["require","exports"],function(e,a){"use amd";function t(e){var a=e.getMonth(),t=[31,28,31,30,31,30,31,31,30,31,30,31];return 1==a&&r(e)?29:t[a]}function r(e){var a=e.getFullYear();return!(a%400&&(a%4||!(a%100)))}function s(e){var a,t=e.toString(),r="",s=t.indexOf("(");if(s>-1)r=t.substring(++s,t.indexOf(")"));else{var n=/([A-Z\/]+) \d{4}$/;(a=t.match(n))?r=a[1]:(t=e.toLocaleString(),n=/ ([A-Z\/]+)$/,(a=t.match(n))&&(r=a[1]))}return"AM"==r||"PM"==r?"":r}function n(e,a,t){return e=new Date((+e)),a=new Date((+(a||new Date))),"date"==t?(e.setHours(0,0,0,0),a.setHours(0,0,0,0)):"time"==t&&(e.setFullYear(0,0,0),a.setFullYear(0,0,0)),e>a?1:e<a?-1:0}function c(e,a,t){var r=new Date((+e)),s=!1,n="Date";switch(a){case"day":break;case"weekday":var c,o,i=t%5;i?(c=i,o=parseInt(""+t/5)):(c=t>0?5:-5,o=t>0?(t-5)/5:(t+5)/5);var u=e.getDay(),g=0;6==u&&t>0?g=1:0==u&&t<0&&(g=-1);var k=u+c;0!=k&&6!=k||(g=t>0?2:-2),t=7*o+c+g;break;case"year":n="FullYear",s=!0;break;case"week":t*=7;break;case"quarter":t*=3;case"month":s=!0,n="Month";break;default:n="UTC"+a.charAt(0).toUpperCase()+a.substring(1)+"s"}return n&&r["set"+n](r["get"+n]()+t),s&&r.getDate()<e.getDate()&&r.setDate(0),r}function o(e,a,t){a=a||new Date,t=t||"day";var r=a.getFullYear()-e.getFullYear(),s=1;switch(t){case"quarter":var n=e.getMonth(),c=a.getMonth(),i=Math.floor(n/3)+1,u=Math.floor(c/3)+1;u+=4*r,s=u-i;break;case"weekday":var g=Math.round(o(e,a,"day")),k=parseInt(""+o(e,a,"week")),d=g%7;if(0==d)g=5*k;else{var h=0,l=e.getDay(),b=a.getDay();k=parseInt(""+g/7),d=g%7;var f=new Date(e);f.setDate(f.getDate()+7*k);var D=f.getDay();if(g>0)switch(!0){case 6==l:h=-1;break;case 0==l:h=0;break;case 6==b:h=-1;break;case 0==b:h=-2;break;case D+d>5:h=-2}else if(g<0)switch(!0){case 6==l:h=0;break;case 0==l:h=1;break;case 6==b:h=2;break;case 0==b:h=1;break;case D+d<0:h=2}g+=h,g-=2*k}s=g;break;case"year":s=r;break;case"month":s=a.getMonth()-e.getMonth()+12*r;break;case"week":s=parseInt(""+o(e,a,"day")/7);break;case"day":s/=24;case"hour":s/=60;case"minute":s/=60;case"second":s/=1e3;case"millisecond":s*=a.getTime()-e.getTime()}return Math.round(s)}a.getDaysInMonth=t,a.isLeapYear=r,a.getTimezoneName=s,a.compare=n,a.add=c,a.difference=o});